<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë˜ëœ ì„œì¬ì˜ ë¹„ë°€ - ë°©íƒˆì¶œ ê²Œì„</title>
    
    <!-- CSS ìŠ¤íƒ€ì¼ -->
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            background-color: #000;
        }

        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .background-image {
            width: 100%;
            height: 100%;
            object-fit: contain; /* ì´ë¯¸ì§€ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©° ì»¨í…Œì´ë„ˆì— ë§ì¶¤ */
        }

        .clickable-object {
            position: absolute;
            cursor: pointer;
            /* ê°œë°œ ì‹œ í´ë¦­ ì˜ì—­ í™•ì¸ìš© í…Œë‘ë¦¬: border: 2px solid red; */
            border-radius: 10px;
            transition: background-color 0.3s;
        }

        .clickable-object:hover {
            background-color: rgba(255, 255, 0, 0.3); /* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë…¸ë€ìƒ‰ ë°˜íˆ¬ëª… íš¨ê³¼ */
        }

        #hint-display {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 10;
        }

        #hint-display h2 {
            margin: 0 0 10px 0;
            font-size: 1.2em;
        }

        #password-hints {
            margin: 0;
            font-size: 2em;
            letter-spacing: 10px;
            font-family: 'Courier New', Courier, monospace;
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: #fefefe;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            width: 90%;
            max-width: 500px;
            text-align: center;
            position: relative;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 30px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
        }

        .close-btn:hover {
            color: #333;
        }

        .modal-content h2 {
            margin-top: 0;
            color: #333;
        }

        .modal-content p {
            line-height: 1.6;
            font-size: 1.1em;
            color: #555;
        }

        .modal-content input[type="text"] {
            width: 80%;
            padding: 10px;
            margin-top: 15px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
        }

        .modal-content button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .modal-content button:hover {
            background-color: #45a049;
        }

        .options .option-btn {
            margin: 5px;
        }

        /* ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- ê²Œì„ ì „ì²´ ì»¨í…Œì´ë„ˆ -->
    <div id="game-container">
        <!-- ë°°ê²½ ì´ë¯¸ì§€ (BG01.jpg íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤) -->
        <img src="BG01.jpg" alt="ì˜¤ë˜ëœ ì„œì¬ ë°°ê²½" class="background-image">

        <!-- í´ë¦­ ê°€ëŠ¥í•œ ì˜¤ë¸Œì íŠ¸ë“¤ì˜ ìœ„ì¹˜ì™€ í¬ê¸° ì„¤ì • -->
        <div class="clickable-object" id="obj-paper" style="top: 25%; left: 65%; width: 8%; height: 15%;"></div>
        <div class="clickable-object" id="obj-map" style="top: 70%; left: 30%; width: 20%; height: 15%;"></div>
        <div class="clickable-object" id="obj-books" style="top: 55%; left: 15%; width: 10%; height: 15%;"></div>
        <div class="clickable-object" id="obj-clock" style="top: 10%; left: 12%; width: 10%; height: 18%;"></div>
        <div class="clickable-object" id="obj-chest" style="bottom: 5%; right: 10%; width: 25%; height: 25%;"></div>

        <!-- íŒíŠ¸ í‘œì‹œ ì˜ì—­ -->
        <div id="hint-display">
            <h2>íšë“í•œ ë¹„ë°€ë²ˆí˜¸</h2>
            <p id="password-hints">? ? ? ?</p>
        </div>
    </div>

    <!-- ëª¨ë‹¬ì°½ë“¤ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê²¨ì ¸ ìˆìŒ) -->
    <!-- í€´ì¦ˆ 1: ë‚¡ì€ ì¢…ì´ -->
    <div id="modal-paper" class="modal-container hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ë‚¡ì€ ì¢…ì´ì˜ í€´ì¦ˆ</h2>
            <p>"ë‚˜ëŠ” í•œ ë²ˆ íƒœì–´ë‚˜ë©´ ì£½ì„ ë•Œê¹Œì§€ ê³„ì† ìë€ë‹¤. ë‚˜ëŠ” ë¬´ì—‡ì¼ê¹Œ?"</p>
            <div class="options">
                <button class="option-btn" data-answer="1">ëª¸ë¬´ê²Œ</button>
                <button class="option-btn" data-answer="2">í‚¤</button>
                <button class="option-btn" data-answer="3">ë‚˜ì´</button>
                <button class="option-btn" data-answer="4">IQ</button>
            </div>
        </div>
    </div>

    <!-- í€´ì¦ˆ 2: ì§€ë„ -->
    <div id="modal-map" class="modal-container hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ì§€ë„ì˜ ìˆ˜ìˆ˜ê»˜ë¼</h2>
            <p>"2-2ëŠ” ì–¼ë§ˆì¸ê°€?"</p>
            <input type="text" id="map-answer" placeholder="ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <button id="map-submit">í™•ì¸</button>
        </div>
    </div>
    
    <!-- í€´ì¦ˆ 3: ì±… ë”ë¯¸ -->
    <div id="modal-books" class="modal-container hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ì±… ë”ë¯¸ì˜ ë¬¸ì œ</h2>
            <p>"ì´ ì„œì¬ì— ìˆëŠ” ì±…ê½‚ì´ëŠ” 5ê°œ, ê° ì±…ê½‚ì´ì— ê½‚íŒ ì±…ì€ 10ê¶Œì´ë‹¤. ê·¸ëŸ°ë° í­í’ìœ¼ë¡œ ì°½ë¬¸ì´ ê¹¨ì§€ë©´ì„œ ì±… 30ê¶Œì´ ë¹—ë¬¼ì— ì –ì–´ ë²„ë ¸ë‹¤. ì –ì§€ ì•Šì€ ì±… ìˆ˜ì˜ 'ì‹­ì˜ ìë¦¬' ìˆ«ìëŠ” ë¬´ì—‡ì¸ê°€?"</p>
            <input type="text" id="books-answer" placeholder="ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <button id="books-submit">í™•ì¸</button>
        </div>
    </div>

    <!-- í€´ì¦ˆ 4: ì‹œê³„ -->
    <div id="modal-clock" class="modal-container hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ë©ˆì¶°ë²„ë¦° ì‹œê³„</h2>
            <p>"ì‹œê³„ëŠ” 8ì‹œ 25ë¶„ì„ ê°€ë¦¬í‚¨ ì±„ ë©ˆì¶°ìˆë‹¤. ì‹œê³„ì˜ ê¸´ ë°”ëŠ˜ì´ ê°€ë¦¬í‚¤ëŠ” ìˆ«ìëŠ” ë¬´ì—‡ì¸ê°€?"</p>
            <input type="text" id="clock-answer" placeholder="ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <button id="clock-submit">í™•ì¸</button>
        </div>
    </div>

    <!-- ìµœì¢…: ë³´ë¬¼í•¨ -->
    <div id="modal-chest" class="modal-container hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ë³´ë¬¼í•¨</h2>
            <p>ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë³´ë¬¼í•¨ì„ ì—¬ì„¸ìš”.</p>
            <input type="text" id="chest-password" maxlength="4" placeholder="ë„¤ ìë¦¬ ìˆ«ì">
            <button id="chest-submit">ì—´ê¸°</button>
        </div>
    </div>

    <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¡œì§ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ê²Œì„ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
            const gameState = {
                solvedPuzzles: {
                    paper: false,
                    map: false,
                    books: false,
                    clock: false,
                },
                passwordHints: ['?', '?', '?', '?']
            };

            // HTML ìš”ì†Œë“¤ì„ ë³€ìˆ˜ì— ì €ì¥
            const hintDisplay = document.getElementById('password-hints');

            const modals = {
                paper: document.getElementById('modal-paper'),
                map: document.getElementById('modal-map'),
                books: document.getElementById('modal-books'),
                clock: document.getElementById('modal-clock'),
                chest: document.getElementById('modal-chest')
            };

            const objects = {
                paper: document.getElementById('obj-paper'),
                map: document.getElementById('obj-map'),
                books: document.getElementById('obj-books'),
                clock: document.getElementById('obj-clock'),
                chest: document.getElementById('obj-chest')
            };

            // íŒíŠ¸ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
            const updateHints = () => {
                hintDisplay.textContent = gameState.passwordHints.join(' ');
            };

            // ëª¨ë‹¬ì„ ì—¬ëŠ” í•¨ìˆ˜
            const openModal = (modal) => {
                modal.classList.remove('hidden');
            };

            // ëª¨ë‹¬ì„ ë‹«ëŠ” í•¨ìˆ˜
            const closeModal = (modal) => {
                modal.classList.add('hidden');
            };

            // ëª¨ë“  ëª¨ë‹¬ì˜ ë‹«ê¸°(X) ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.querySelectorAll('.close-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    closeModal(btn.closest('.modal-container'));
                });
            });
            
            // ëª¨ë‹¬ ë°”ê¹¥ ì˜ì—­ í´ë¦­ ì‹œ ë‹«ê¸°
            Object.values(modals).forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });

            // ê° ì˜¤ë¸Œì íŠ¸ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
            objects.paper.addEventListener('click', () => {
                if (!gameState.solvedPuzzles.paper) {
                    openModal(modals.paper);
                } else {
                    alert('ì´ë¯¸ í•´ê²°í•œ ë¬¸ì œë‹¤.');
                }
            });

            objects.map.addEventListener('click', () => {
                if (!gameState.solvedPuzzles.map) {
                    openModal(modals.map);
                } else {
                    alert('ì´ë¯¸ í•´ê²°í•œ ë¬¸ì œë‹¤.');
                }
            });
            
            objects.books.addEventListener('click', () => {
                if (!gameState.solvedPuzzles.books) {
                    openModal(modals.books);
                } else {
                    alert('ì´ë¯¸ í•´ê²°í•œ ë¬¸ì œë‹¤.');
                }
            });

            objects.clock.addEventListener('click', () => {
                if (!gameState.solvedPuzzles.clock) {
                    openModal(modals.clock);
                } else {
                    alert('ì´ë¯¸ í•´ê²°í•œ ë¬¸ì œë‹¤.');
                }
            });

            objects.chest.addEventListener('click', () => {
                openModal(modals.chest);
            });


            // --- ê° í¼ì¦ì˜ ì •ë‹µ ì²˜ë¦¬ ë¡œì§ ---

            // 1. ë‚¡ì€ ì¢…ì´ (ì„ íƒì§€ í€´ì¦ˆ)
            modals.paper.querySelectorAll('.option-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    if (e.target.dataset.answer === '3') {
                        alert('ì •ë‹µ! ì²« ë²ˆì§¸ ë¹„ë°€ë²ˆí˜¸ëŠ” [2]ì…ë‹ˆë‹¤.');
                        gameState.passwordHints[0] = '2';
                        gameState.solvedPuzzles.paper = true;
                        updateHints();
                        closeModal(modals.paper);
                    } else {
                        alert('í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ìƒê°í•´ ë³´ì„¸ìš”.');
                    }
                });
            });

            // 2. ì§€ë„ (í…ìŠ¤íŠ¸ ì…ë ¥)
            document.getElementById('map-submit').addEventListener('click', () => {
                const answer = document.getElementById('map-answer').value;
                if (answer.trim() === '0') {
                    alert('ì •ë‹µ! ë‘ ë²ˆì§¸ ë¹„ë°€ë²ˆí˜¸ëŠ” [0]ì…ë‹ˆë‹¤.');
                    gameState.passwordHints[1] = '0';
                    gameState.solvedPuzzles.map = true;
                    updateHints();
                    closeModal(modals.map);
                } else {
                    alert('í‹€ë ¸ìŠµë‹ˆë‹¤. ì§€ë„ë¥¼ ì˜ ì‚´í´ë³´ì„¸ìš”.');
                }
            });

            // 3. ì±… ë”ë¯¸ (í…ìŠ¤íŠ¸ ì…ë ¥)
            document.getElementById('books-submit').addEventListener('click', () => {
                const answer = document.getElementById('books-answer').value;
                if (answer.trim() === '2') {
                    alert('ì •ë‹µ! ì„¸ ë²ˆì§¸ ë¹„ë°€ë²ˆí˜¸ëŠ” [2]ì…ë‹ˆë‹¤.');
                    gameState.passwordHints[2] = '2';
                    gameState.solvedPuzzles.books = true;
                    updateHints();
                    closeModal(modals.books);
                } else {
                    alert('í‹€ë ¸ìŠµë‹ˆë‹¤. ë¬¸ì œë¥¼ ë‹¤ì‹œ ì½ì–´ë³´ì„¸ìš”.');
                }
            });


            // 4. ì‹œê³„ (í…ìŠ¤íŠ¸ ì…ë ¥)
            document.getElementById('clock-submit').addEventListener('click', () => {
                const answer = document.getElementById('clock-answer').value;
                if (answer.trim() === '5') {
                    alert('ì •ë‹µ! ë„¤ ë²ˆì§¸ ë¹„ë°€ë²ˆí˜¸ëŠ” [5]ì…ë‹ˆë‹¤.');
                    gameState.passwordHints[3] = '5';
                    gameState.solvedPuzzles.clock = true;
                    updateHints();
                    closeModal(modals.clock);
                } else {
                    alert('í‹€ë ¸ìŠµë‹ˆë‹¤. ê¸´ ë°”ëŠ˜ì´ ê°€ë¦¬í‚¤ëŠ” ìˆ«ìë¥¼ ë³´ì„¸ìš”.');
                }
            });

            // ìµœì¢…. ë³´ë¬¼í•¨
            document.getElementById('chest-submit').addEventListener('click', () => {
                const password = document.getElementById('chest-password').value;
                if (password === '2025') {
                    // ëª¨ë“  ëª¨ë‹¬ì„ ë‹«ê³  ì„±ê³µ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤Œ
                    Object.values(modals).forEach(closeModal);
                    // ì ì‹œ í›„ alertë¥¼ ë„ì›Œ ë°°ê²½ì„ ë³¼ ìˆ˜ ìˆê²Œ í•¨
                    setTimeout(() => {
                        alert('ì² ì»¥-! ë³´ë¬¼í•¨ì´ ì—´ë¦¬ë©° ì•ˆì—ì„œ ë‚¡ì€ ë¬¸ ì—´ì‡ ê°€ ë‚˜íƒ€ë‚¬ë‹¤.\n\në‹¹ì‹ ì€ ì—´ì‡ ë¡œ ë¬¸ì„ ì—´ê³  ë§ˆì¹¨ë‚´ ì„œì¬ë¥¼ íƒˆì¶œí–ˆìŠµë‹ˆë‹¤! ğŸ‰');
                    }, 100);
                } else {
                    alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
                }
            });

            // ê²Œì„ ì‹œì‘ ì‹œ ì´ˆê¸° íŒíŠ¸ í‘œì‹œ
            updateHints();
        });
    </script>
</body>
</html>
